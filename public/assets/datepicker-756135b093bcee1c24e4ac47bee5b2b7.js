$(function(){var e,t,a;tmp_date=new Date,a=6-tmp_date.getDay();var r=function(){window.setTimeout(function(){$("#week-picker").find(".ui-datepicker-current-day a").addClass("ui-state-active")},1)};$("#week-picker").datepicker({showOtherMonths:!0,selectOtherMonths:!0,minDate:a,firstDay:6,onSelect:function(a,n){var i=$(this).datepicker("getDate");6==i.getDay()?(e=new Date(i.getFullYear(),i.getMonth(),i.getDate()),t=new Date(i.getFullYear(),i.getMonth(),i.getDate()+6)):(e=new Date(i.getFullYear(),i.getMonth(),i.getDate()-i.getDay()-1),t=new Date(i.getFullYear(),i.getMonth(),i.getDate()-i.getDay()+5));var d=n.settings.dateFormat||$.datepicker._defaults.dateFormat;$("#stay_arrival_date").val($.datepicker.formatDate(d,e,n.settings)),$("#stay_departure_date").val($.datepicker.formatDate(d,t,n.settings)),$("#fake_arrival_date").val($.datepicker.formatDate(d,e,n.settings)),$("#fake_departure_date").val($.datepicker.formatDate(d,t,n.settings)),r()},beforeShowDay:function(a){var r="";return a>=e&&t>=a&&(r="ui-datepicker-current-day"),[!0,r]},onChangeMonthYear:function(){r()}}),$(".ui-datepicker-calendar tr").on("mousemove",function(){$(this).find("td a").addClass("ui-state-hover")}),$(".ui-datepicker-calendar tr").on("mouseleave",function(){$(this).find("td a").removeClass("ui-state-hover")})});